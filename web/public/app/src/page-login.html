<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="login-element"><template><style include="shared-style">:host{display:block;position:relative;}</style><div class="container"><paper-button on-tap="_login">Login</paper-button><paper-button on-tap="_testToken">Test token</paper-button><paper-button on-tap="_pang">Pang</paper-button></div></template><script>var LoginElement=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:"_login",value:function(){var a=window.open("http://localhost:8080/accesstoken","windowname1","width=800, height=600"),b=this,c=window.setInterval(function(){try{if(console.log(a.document.URL),-1!=a.document.URL.indexOf("?token")){window.clearInterval(c);var d=b._getParameterByName("token",a.document.URL);b._useToken(d),a.close()}}catch(a){console.log(a)}},100)}},{key:"_testToken",value:function(){this._useToken("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1MTY2MDQyNjcsIm5hbWVzcGFjZSI6ImFnaGtaWFotVG05dVpYSVZDeElJUVhCd1ZYTmxjbk1ZZ0lDQWdJRGdsd29NIiwidG9rZW50eXBlIjoiYWNjZXNzLXRva2VuIiwidXNlcm5hbWUiOiJ0ZXN0QGV4YW1wbGUuY29tIn0.4o6m3S_DRvzCbMTFfWg7KnDEszg2NXntmYK5WVhfMQY")}},{key:"_pang",value:function(){mockAPI.pang("helloish")}},{key:"_useToken",value:function(a){console.log(a);var b=this;fetch("http://localhost:8080/api/v1/request_token",{method:"POST",body:JSON.stringify({token:a})}).then(function(a){return a.json()}).then(function(a){console.log(a),b.setTokens(a)})}},{key:"_getParameterByName",value:function(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null}}],[{key:"is",get:function(){return"login-element"}},{key:"properties",get:function(){return{refreshToken:{type:String,value:!0}}}}]),b}(ActionsMixin(Polymer.Element));window.customElements.define(LoginElement.is,LoginElement);</script></dom-module></div><dom-module id="page-login"><template><style include="shared-styles">:host{display:block;padding:10px;}</style><div class="card"><div class="circle">3</div><h1>Login</h1><p>To do.</p><login-element></login-element></div></template><script>var PageLogin=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'page-login'}}]),b}(Polymer.Element);window.customElements.define(PageLogin.is,PageLogin);</script></dom-module></body></html>